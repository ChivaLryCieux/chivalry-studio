/* --- 1. 基础布局 --- */
.main {
    width: 100vw;
    height: 100vh;
    position: relative;
    overflow: hidden; /* 禁止页面滚动，只允许内部逻辑切换 */
    display: flex;
    align-items: center;
    justify-content: center;
    color: #ede8de; /* 全局文字白色 */
    /* 背景色过渡动画，具体颜色由 inline-style 控制 */
    transition: background-color 0.6s ease-in-out;
}

/* --- 2. UI 框架 (固定在屏幕四周) --- */
/* 使用 absolute 定位将它们钉在屏幕边缘，z-index 设高以覆盖卡片 */

.topLeft {
    position: absolute;
    top: 40px;
    left: 40px;
    z-index: 50;
}

.logo {
    font-weight: 900;
    font-size: 1.2rem;
    line-height: 1.1;
    margin-bottom: 30px;
    letter-spacing: 1px;
    text-transform: uppercase;
}

.yearDisplay {
    display: flex;
    flex-direction: column;
}

.yearDisplay .label {
    font-size: 0.75rem;
    opacity: 0.6;
    text-transform: uppercase;
    margin-bottom: 4px;
}

.yearDisplay .value {
    font-size: 1.1rem;
    font-weight: 500;
}

.topCenter {
    position: absolute;
    top: 40px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 30px;
    align-items: center;
    font-size: 0.9rem;
    z-index: 50;
    font-family: monospace; /* 机械感字体 */
}

.centerIcon {
    font-size: 1.5rem;
    position: absolute;
    top: 40px;
    left: 50%;
    transform: translateX(-50%);
    opacity: 0.8;
}

.topRight {
    position: absolute;
    top: 40px;
    right: 40px;
    text-align: right;
    z-index: 50;
    display: flex;
    flex-direction: column;
    gap: 8px;
    font-size: 0.9rem;
}

.menuTrigger {
    cursor: pointer;
    transition: opacity 0.3s;
}
.menuTrigger:hover {
    opacity: 0.7;
}

.scrollHint {
    margin-top: 60px;
    font-size: 0.75rem;
    opacity: 0.6;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.bottomLeft {
    position: absolute;
    bottom: 40px;
    left: 40px;
    z-index: 50;
}

.email {
    font-size: 0.85rem;
    text-decoration: none;
    border-bottom: 1px solid rgba(255,255,255,0.3);
    padding-bottom: 2px;
    transition: border-color 0.3s;
}
.email:hover {
    border-color: rgba(255,255,255,1);
}

.bottomRight {
    position: absolute;
    bottom: 40px;
    right: 40px;
    z-index: 50;
    display: flex;
    align-items: center;
    gap: 15px;
    font-size: 0.85rem;
}

.circleIndicator {
    width: 10px;
    height: 10px;
    border: 1px solid white;
    border-radius: 50%;
    background: transparent;
}

/* --- 3. 底部进度条 (Ruler) --- */
.bottomBar {
    position: absolute;
    bottom: 30px;
    left: 50%;
    transform: translateX(-50%);
    width: 50vw;
    height: 40px;
    z-index: 50;
    display: flex;
    align-items: flex-end;
    justify-content: center;
    overflow: hidden; /* 防止刻度溢出 */
}

.ticks {
    width: 100%;
    display: flex;
    justify-content: space-between;
    opacity: 0.3;
    font-size: 0.6rem;
    font-family: monospace;
}

.progressMarker {
    position: absolute;
    top: 0;
    font-size: 0.9rem;
    font-weight: bold;
    transition: left 0.6s cubic-bezier(0.2, 0.8, 0.2, 1); /* 平滑跟随动画 */
    white-space: nowrap;
}

/* --- 4. 核心卡片堆叠区域 --- */
.stackContainer {
    width: 100%;
    height: 100%;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    perspective: 1200px; /* 3D 透视深度，值越大越平缓 */
}

/* 卡片容器 */
.card {
    position: absolute;
    width: 75vw;  /* 桌面端宽度 */
    aspect-ratio: 16 / 9;
    /* 关键动画过渡 */
    transition: all 0.8s cubic-bezier(0.19, 1, 0.22, 1);
    will-change: transform, opacity;
    transform-style: preserve-3d;
}

/* 卡片内部 */
.cardInner {
    width: 100%;
    height: 100%;
    position: relative;
    overflow: hidden;
    background: #111; /* 图片加载前的背景 */
    box-shadow: 0 30px 60px rgba(0,0,0,0.5); /* 深度阴影 */
}

/* --- 5. 图片处理 (Next/Image 适配) --- */
.imageWrapper {
    width: 100%;
    height: 100%;
    position: relative;
}

/* 真实图片的样式 (配合 Next/Image 的 fill 属性) */
.realImage {
    object-fit: cover; /* 保证填满不拉伸 */
    z-index: 1;
}

/* 图片遮罩：加深图片以便白色文字清晰可见 */
.imageWrapper::after {
    content: '';
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, 0.25); /* 25% 黑色遮罩 */
    z-index: 2;
    transition: background 0.5s;
}

/* 鼠标悬停时稍微亮一点（可选） */
.card.active:hover .imageWrapper::after {
    background: rgba(0, 0, 0, 0.1);
}

/* --- 6. 标题样式 --- */
.cardTitle {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%); /* 绝对居中 */
    z-index: 10;
    font-family: var(--font-serif), "Times New Roman", serif; /* 衬线体 */
    font-size: 5vw; /* 响应式字体大小 */
    color: white;
    white-space: nowrap;
    line-height: 1;
    text-shadow: 0 20px 40px rgba(0,0,0,0.6);
    pointer-events: none; /* 防止文字挡住图片的点击事件 */
}

/* --- 7. 卡片状态逻辑 (核心动画) --- */

/* 状态 A: 当前显示的卡片 */
.active {
    z-index: 10;
    opacity: 1;
    transform: scale(1) translateY(0);
    pointer-events: auto;
}

/* 状态 B: 下一张卡片 (背景堆叠) */
.next {
    z-index: 5;
    opacity: 0.5;
    /* 缩小并向上移动，制造层叠感 */
    transform: scale(0.85) translateY(-60px);
    filter: brightness(0.6) blur(1px); /* 稍微变暗变模糊 */
}

/* 状态 C: 再后面的卡片 (隐藏) */
.hidden {
    z-index: 0;
    opacity: 0;
    transform: scale(0.8) translateY(-100px);
    pointer-events: none;
}

/* 状态 D: 之前的卡片 (被滑走) */
.prev {
    z-index: 20; /* 必须比 active 高，才能产生“滑走”的感觉 */
    opacity: 0;
    /* 向下滑出屏幕，并带一点旋转 */
    transform: translateY(110vh) rotate(-5deg);
    pointer-events: none;
}

/* --- 8. 移动端适配 --- */
@media (max-width: 768px) {
    /* 调整卡片尺寸 */
    .card {
        width: 90vw;
        aspect-ratio: 16 / 9;
    }

    /* 调整标题大小 */
    .cardTitle {
        font-size: 3rem;
    }

    /* 调整UI边距 */
    .topLeft { top: 20px; left: 20px; }
    .topRight { top: 20px; right: 20px; }
    .bottomLeft { bottom: 20px; left: 20px; }
    .bottomRight { bottom: 20px; right: 20px; }

    /* 隐藏在手机上太拥挤的元素 */
    .topCenter,
    .bottomBar,
    .scrollHint,
    .centerIcon {
        display: none;
    }
}